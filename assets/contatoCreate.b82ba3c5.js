var h=Object.defineProperty;var c=(a,t,e)=>t in a?h(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var o=(a,t,e)=>(c(a,typeof t!="symbol"?t+"":t,e),e);import"./modulepreload-polyfill.c7c6310f.js";/* empty css              */import{E as d}from"./entidade.model.0b0c5e30.js";import{C as u}from"./contato.repository.local-storage.2bfd6cc0.js";class m extends d{constructor(e,i,r,n,s,l){super();o(this,"nome");o(this,"email");o(this,"telefone");o(this,"empresa");o(this,"cargo");l&&(this.id=l),this.nome=e,this.email=i,this.telefone=r,this.empresa=n,this.cargo=s}}class x{constructor(t,e){o(this,"txtNome");o(this,"txtEmail");o(this,"txtTelefone");o(this,"txtEmpresa");o(this,"txtCargo");o(this,"buttonSalvar");o(this,"idSelecionado");if(this.repositorioContatos=t,this.configurarElementos(),e){this.idSelecionado=e;const i=this.repositorioContatos.selecionarPorId(e);i&&this.preencherFormulario(i)}}configurarElementos(){this.txtNome=document.getElementById("txtNome"),this.txtEmail=document.getElementById("txtEmail"),this.txtTelefone=document.getElementById("txtTelefone"),this.txtEmpresa=document.getElementById("txtEmpresa"),this.txtCargo=document.getElementById("txtCargo"),this.buttonSalvar=document.getElementById("btnSalvar"),this.buttonSalvar.addEventListener("click",t=>this.gravarRegistros())}gravarRegistros(){const t=this.obterDadosFormulario();!this.validarInputs(t)||(this.idSelecionado?this.repositorioContatos.editar(t.id,t):this.repositorioContatos.inserir(t),window.location.href="contato.list.html")}preencherFormulario(t){this.txtNome.value=t.nome,this.txtEmail.value=t.email,this.txtTelefone.value=t.telefone,this.txtEmpresa.value=t.empresa,this.txtCargo.value=t.cargo}obterDadosFormulario(){const t=this.txtNome.value,e=this.txtEmail.value,i=this.txtTelefone.value,r=this.txtEmpresa.value,n=this.txtCargo.value;let s=null;return this.idSelecionado?s=new m(t,e,i,r,n,this.idSelecionado):s=new m(t,e,i,r,n),s}validarInputs(t){return new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/gi).test(t.email)?t.telefone.length<10?(alert("Telefone inv\xE1lido"),!1):!0:(alert("Email inv\xE1lido"),!1)}}const f=new URLSearchParams(window.location.search),g=f.get("id");new x(new u,g);
