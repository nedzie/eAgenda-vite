var d=Object.defineProperty;var c=(a,e,r)=>e in a?d(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var t=(a,e,r)=>(c(a,typeof e!="symbol"?e+"":e,r),r);import"./modulepreload-polyfill.c7c6310f.js";/* empty css              */import{T as n,a as s}from"./tarefa.repository.local-storage.5f58b1f6.js";import"./entidade.model.0b0c5e30.js";var o=(a=>(a.Baixa="Baixa",a.Media="M\xE9dia",a.Alta="Alta",a))(o||{});class l{constructor(e,r){t(this,"txtDescricao");t(this,"rdbPrioridade");t(this,"buttonSalvar");t(this,"idSelecionado");if(this.repositorioTarefas=e,this.configurarElementos(),r){this.idSelecionado=r;const i=this.repositorioTarefas.selecionarPorId(r);i&&this.preencherFormulario(i)}}configurarElementos(){this.txtDescricao=document.getElementById("txtDescricao"),this.buttonSalvar=document.getElementById("btnSalvar"),this.buttonSalvar.addEventListener("click",e=>this.gravarRegistros())}gravarRegistros(){const e=this.obterDadosFormulario();!this.validarInputs(e)||(this.idSelecionado?this.repositorioTarefas.editar(e.id,e):this.repositorioTarefas.inserir(e),window.location.href="tarefa.list.html")}preencherFormulario(e){switch(this.txtDescricao.value=e.descricao,e.prioridade){case o.Alta:this.rdbPrioridade=document.querySelector("input[value='Alta']");break;case o.Media:this.rdbPrioridade=document.querySelector("input[value='M\xE9dia']");break;case o.Baixa:this.rdbPrioridade=document.querySelector("input[value='Baixa']");break}this.rdbPrioridade.checked=!0}obterDadosFormulario(){const e=this.txtDescricao.value,r=this.obterPrioridadeSelecionada();let i=null;return this.idSelecionado?i=new s(e,r,this.idSelecionado):i=new s(e,r),i}obterPrioridadeSelecionada(){return document.querySelector('input[type="radio"]:checked').value}validarInputs(e){return e.descricao.length<=3?(alert("Descri\xE7\xE3o fora do padr\xE3o!"),!1):!0}}const u=new URLSearchParams(window.location.search),h=u.get("id");new l(new n,h);
